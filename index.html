<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock-Paper-Scissors</title>
</head>
<body>
    
    <script type="module">
     // Get Computers Choice//
     function computerChoice(){
        // Using Random Number Generator to Simulate Unpredicatibility//
        let cpuChoice = Math.floor(Math.random()*100) + 1;
        // returns usable string value for each instance//
        if (cpuChoice >= 70){
            return "ROCK"
        }
        else if(cpuChoice < 70 && cpuChoice >= 40 ){
            return 'PAPER'
        }
        else if(cpuChoice < 40){
            return 'SCISSORS'
        }
       
     }
     //Get Players Choice//
     function playerChoice (){
        let choice = prompt("ROCK! PAPER!! SCISSORS!!!", "");
        // Convert to uppercase for case-insensitivity//
        let userChoice = choice ? choice.toUpperCase(): null
        // Returns user choice valid input//
        if( userChoice === 'ROCK'|| userChoice === 'PAPER'|| userChoice === 'SCISSORS' ){
            return userChoice      
        }
        // handles cases of invalid input//
        else {
            console.log( "THATS NOT HOW TO PLAY!")
            return null;
        }
      
    }
    function playGame(){
      //declaring variables to keep score//  
    let playerScore = 0;
    let computerScore = 0;
    
    for( let i=0; i < 5; i++){
        //prevents repetition of player choice//
        const playerSelection = playerChoice();
        //prevents repetition of computer choice//
        const computerSelection = computerChoice();
        playRound(playerSelection, computerSelection);
    }

       //to initiate new round//
       function playRound(playerChoice, computerChoice){
        if(playerChoice === 'ROCK' && computerChoice === 'SCISSORS'){
            console.log(`You Win! ${playerChoice} beats ${computerChoice}`)
            playerScore++
        }   
        else if(playerChoice === 'PAPER' && computerChoice === 'ROCK'){
            console.log(`You Win! ${playerChoice} beats ${computerChoice}`)
            playerScore++
        }
        else if(playerChoice === 'SCISSORS' && computerChoice === 'PAPER'){
            console.log(`You Win! ${computerChoice} beats ${playerChoice}`)
            playerScore++
        }
        else if (computerChoice === 'ROCK' && playerChoice === 'SCISSORS'){
            console.log(`You Lose! ${computerChoice} beats ${playerChoice}`)
            computerScore++
        }
        else if(computerChoice === 'PAPER' && playerChoice === 'ROCK'){
            console.log(`You Lose! ${computerChoice} beats ${playerChoice}`)
            computerScore++
        }
        else if(computerChoice === 'SCISSORS' && playerChoice === 'PAPER'){
            console.log(`You Lose! ${playerChoice} beats ${computerChoice}`)
            computerScore++
        }
        else if(playerChoice === computerChoice){
            console.log(`Its a Draw`)
        }
        let currentScore = `You have ${playerScore} and Computer has ${computerScore}`;
        alert(currentScore);

      }
      function finalScore(playerScore, computerScore){
        if(playerScore > computerScore){
            return console.log(`Congratulations! You Won! ${playerScore}: ${computerScore}`)
        }
        else if(computerScore > playerScore){
            return console.log(`OH NO! You Lost! ${computerScore}: ${playerScore}`)
        }
        else if(playerScore === computerScore){
            return console.log(`Its a Draw`)
        }
      }
      console.log(finalScore(playerScore, computerScore))
    }
      playGame()

    </script>
</body>
</html>